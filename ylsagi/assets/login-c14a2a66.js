import{_ as n,u as c,k as l,U as r,o as _,c as d,a as s,V as u}from"./index-9b2d1a1f.js";import{T as g}from"./index-ea658985.js";const p={class:"page"},f={__name:"login",setup(w){c({attribute:"class",disableTransition:!1});const a=new g({authorizerURL:"https://auth.ylsagi.io",redirectURL:window.location.origin+"/login",clientID:"43a63597-ea46-47da-b6bd-105fe62f0dbe"});l(()=>{t()});async function t(){const{data:o,errors:e}=await a.getSession();if(o){let{status:i}=await r({access_token:o.access_token});i=="success"?(await a.logout(),window.location.href="/"):console.error("登录失败")}else window.location.href="/"}return(o,e)=>(_(),d("div",p,e[0]||(e[0]=[s("div",{class:"logoView"},[s("img",{class:"logo",src:u,alt:"ylsagi logo"}),s("div",{class:"text"},"获取授权中(自动跳转)")],-1)])))}},v=n(f,[["__scopeId","data-v-62c26e1a"]]);export{v as default};
