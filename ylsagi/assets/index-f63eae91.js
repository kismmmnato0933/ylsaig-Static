var Z=Object.defineProperty;var ee=(n,e,o)=>e in n?Z(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var u=(n,e,o)=>(ee(n,typeof e!="symbol"?e+"":e,o),o);import{a as re,c as te}from"./_commonjsHelpers-87174ba5.js";var x={exports:{}};(function(n,e){var o=typeof self<"u"?self:te,i=function(){function a(){this.fetch=!1,this.DOMException=o.DOMException}return a.prototype=o,new a}();(function(a){(function(h){var y={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function E(r){return r&&DataView.prototype.isPrototypeOf(r)}if(y.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],q=ArrayBuffer.isView||function(r){return r&&m.indexOf(Object.prototype.toString.call(r))>-1};function k(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(r))throw new TypeError("Invalid character in header field name");return r.toLowerCase()}function j(r){return typeof r!="string"&&(r=String(r)),r}function $(r){var s={next:function(){var l=r.shift();return{done:l===void 0,value:l}}};return y.iterable&&(s[Symbol.iterator]=function(){return s}),s}function c(r){this.map={},r instanceof c?r.forEach(function(s,l){this.append(l,s)},this):Array.isArray(r)?r.forEach(function(s){this.append(s[0],s[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(s){this.append(s,r[s])},this)}c.prototype.append=function(r,s){r=k(r),s=j(s);var l=this.map[r];this.map[r]=l?l+", "+s:s},c.prototype.delete=function(r){delete this.map[k(r)]},c.prototype.get=function(r){return r=k(r),this.has(r)?this.map[r]:null},c.prototype.has=function(r){return this.map.hasOwnProperty(k(r))},c.prototype.set=function(r,s){this.map[k(r)]=j(s)},c.prototype.forEach=function(r,s){for(var l in this.map)this.map.hasOwnProperty(l)&&r.call(s,this.map[l],l,this)},c.prototype.keys=function(){var r=[];return this.forEach(function(s,l){r.push(l)}),$(r)},c.prototype.values=function(){var r=[];return this.forEach(function(s){r.push(s)}),$(r)},c.prototype.entries=function(){var r=[];return this.forEach(function(s,l){r.push([l,s])}),$(r)},y.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function O(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function z(r){return new Promise(function(s,l){r.onload=function(){s(r.result)},r.onerror=function(){l(r.error)}})}function M(r){var s=new FileReader,l=z(s);return s.readAsArrayBuffer(r),l}function N(r){var s=new FileReader,l=z(s);return s.readAsText(r),l}function J(r){for(var s=new Uint8Array(r),l=new Array(s.length),p=0;p<s.length;p++)l[p]=String.fromCharCode(s[p]);return l.join("")}function C(r){if(r.slice)return r.slice(0);var s=new Uint8Array(r.byteLength);return s.set(new Uint8Array(r)),s.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(r){this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:y.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:y.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:y.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():y.arrayBuffer&&y.blob&&E(r)?(this._bodyArrayBuffer=C(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||q(r))?this._bodyArrayBuffer=C(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var r=O(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var r=O(this);if(r)return r;if(this._bodyBlob)return N(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(J(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function W(r){var s=r.toUpperCase();return G.indexOf(s)>-1?s:r}function v(r,s){s=s||{};var l=s.body;if(r instanceof v){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,s.headers||(this.headers=new c(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!l&&r._bodyInit!=null&&(l=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=s.credentials||this.credentials||"same-origin",(s.headers||!this.headers)&&(this.headers=new c(s.headers)),this.method=W(s.method||this.method||"GET"),this.mode=s.mode||this.mode||null,this.signal=s.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&l)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(l)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function X(r){var s=new FormData;return r.trim().split("&").forEach(function(l){if(l){var p=l.split("="),f=p.shift().replace(/\+/g," "),d=p.join("=").replace(/\+/g," ");s.append(decodeURIComponent(f),decodeURIComponent(d))}}),s}function K(r){var s=new c,l=r.replace(/\r?\n[\t ]+/g," ");return l.split(/\r?\n/).forEach(function(p){var f=p.split(":"),d=f.shift().trim();if(d){var A=f.join(":").trim();s.append(d,A)}}),s}F.call(v.prototype);function _(r,s){s||(s={}),this.type="default",this.status=s.status===void 0?200:s.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in s?s.statusText:"OK",this.headers=new c(s.headers),this.url=s.url||"",this._initBody(r)}F.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var r=new _(null,{status:0,statusText:""});return r.type="error",r};var Y=[301,302,303,307,308];_.redirect=function(r,s){if(Y.indexOf(s)===-1)throw new RangeError("Invalid status code");return new _(null,{status:s,headers:{location:r}})},h.DOMException=a.DOMException;try{new h.DOMException}catch{h.DOMException=function(s,l){this.message=s,this.name=l;var p=Error(s);this.stack=p.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function P(r,s){return new Promise(function(l,p){var f=new v(r,s);if(f.signal&&f.signal.aborted)return p(new h.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function A(){d.abort()}d.onload=function(){var T={status:d.status,statusText:d.statusText,headers:K(d.getAllResponseHeaders()||"")};T.url="responseURL"in d?d.responseURL:T.headers.get("X-Request-URL");var B="response"in d?d.response:d.responseText;l(new _(B,T))},d.onerror=function(){p(new TypeError("Network request failed"))},d.ontimeout=function(){p(new TypeError("Network request failed"))},d.onabort=function(){p(new h.DOMException("Aborted","AbortError"))},d.open(f.method,f.url,!0),f.credentials==="include"?d.withCredentials=!0:f.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&y.blob&&(d.responseType="blob"),f.headers.forEach(function(T,B){d.setRequestHeader(B,T)}),f.signal&&(f.signal.addEventListener("abort",A),d.onreadystatechange=function(){d.readyState===4&&f.signal.removeEventListener("abort",A)}),d.send(typeof f._bodyInit>"u"?null:f._bodyInit)})}return P.polyfill=!0,a.fetch||(a.fetch=P,a.Headers=c,a.Request=v,a.Response=_),h.Headers=c,h.Request=v,h.Response=_,h.fetch=P,Object.defineProperty(h,"__esModule",{value:!0}),h})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var t=i;e=t.fetch,e.default=t.fetch,e.fetch=t.fetch,e.Headers=t.Headers,e.Request=t.Request,e.Response=t.Response,n.exports=e})(x,x.exports);var oe=x.exports;const ie=re(oe);var se=Object.defineProperty,g=(n,e)=>se(n,"name",{value:e,configurable:!0}),S;(function(n){n.Apple="apple",n.Github="github",n.Google="google",n.Facebook="facebook",n.LinkedIn="linkedin",n.Twitter="twitter",n.Microsoft="microsoft",n.Twitch="twitch",n.Roblox="roblox"})(S||(S={}));var L;(function(n){n.Code="code",n.Token="token"})(L||(L={}));var R=g(()=>typeof window<"u","hasWindow"),H=g(n=>{let e=n.trim();return e[e.length-1]==="/"&&(e=e.slice(0,-1)),e},"trimURL"),Q=g(()=>R()?window.crypto||window.msCrypto:null,"getCrypto"),ae=g(()=>{let n=Q();return n&&n.subtle||n.webkitSubtle},"getCryptoSubtle"),b=g(()=>{let n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="",o=Q();return o&&Array.from(o.getRandomValues(new Uint8Array(43))).forEach(i=>e+=n[i%n.length]),e},"createRandomString"),w=g(n=>R()?btoa(n):Buffer.from(n).toString("base64"),"encode"),ne=g(n=>Object.keys(n).filter(e=>typeof n[e]<"u").map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&"),"createQueryParams"),le=g(async n=>{let e=ae().digest({name:"SHA-256"},new TextEncoder().encode(n));return window.msCrypto?new Promise((o,i)=>{e.oncomplete=t=>{o(t.target.result)},e.onerror=t=>{i(t.error)},e.onabort=()=>{i(new Error("The digest operation was aborted"))}}):await e},"sha256"),ue=g(n=>{let e={"+":"-","/":"_","=":""};return n.replace(/[+/=]/g,o=>e[o])},"urlEncodeB64"),de=g(n=>{let e=new Uint8Array(n);return ue(window.btoa(String.fromCharCode(...Array.from(e))))},"bufferToBase64UrlEncoded"),he=g((n,e,o=60)=>new Promise((i,t)=>{let a=window.document.createElement("iframe");a.setAttribute("id","authorizer-iframe"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.style.display="none";let h=g(()=>{window.document.body.contains(a)&&(window.document.body.removeChild(a),window.removeEventListener("message",E,!1))},"removeIframe"),y=setTimeout(()=>{h()},o*1e3),E=g(function(m){if(m.origin!==e||!m.data||!m.data.response)return;let q=m.source;q&&q.close(),m.data.response.error?t(m.data.response):i(m.data.response),clearTimeout(y),window.removeEventListener("message",E,!1),setTimeout(h,2*1e3)},"iframeEventHandler");window.addEventListener("message",E,!1),window.document.body.appendChild(a),a.setAttribute("src",n)}),"executeIframe"),D="id email email_verified given_name family_name middle_name nickname preferred_username picture signup_methods gender birthdate phone_number phone_number_verified roles created_at updated_at is_multi_factor_auth_enabled app_data",U=`message access_token expires_in refresh_token id_token should_show_email_otp_screen should_show_mobile_otp_screen should_show_totp_screen authenticator_scanner_image authenticator_secret authenticator_recovery_codes user { ${D} }`,I=g(()=>R()?window.fetch:ie,"getFetcher"),V=class{constructor(e){u(this,"config");u(this,"codeVerifier");u(this,"authorize",async e=>{if(!R())return this.errorResponse([new Error("this feature is only supported in browser")]);let o=["openid","profile","email"];e.use_refresh_token&&o.push("offline_access");let i={redirect_uri:this.config.redirectURL,response_mode:e.response_mode||"web_message",state:w(b()),nonce:w(b()),response_type:e.response_type,scope:o.join(" "),client_id:this.config.clientID};if(e.response_type===L.Code){this.codeVerifier=b();let a=await le(this.codeVerifier),h=de(a);i.code_challenge=h}let t=`${this.config.authorizerURL}/authorize?${ne(i)}`;if(i.response_mode!=="web_message")return window.location.replace(t),this.okResponse(void 0);try{let a=await he(t,this.config.authorizerURL,60);if(e.response_type===L.Code){let h=await this.getToken({code:a.code});return h.errors.length?this.errorResponse(h.errors):this.okResponse(h.data)}return this.okResponse(a)}catch(a){return a.error&&window.location.replace(`${this.config.authorizerURL}/app?state=${w(JSON.stringify(this.config))}&redirect_uri=${this.config.redirectURL}`),this.errorResponse(a)}});u(this,"browserLogin",async()=>{try{let e=await this.getSession();return e.errors.length?this.errorResponse(e.errors):this.okResponse(e.data)}catch(e){return R()?(window.location.replace(`${this.config.authorizerURL}/app?state=${w(JSON.stringify(this.config))}&redirect_uri=${this.config.redirectURL}`),this.errorResponse(e)):{data:void 0,errors:[new Error("browserLogin is only supported for browsers")]}}});u(this,"forgotPassword",async e=>{var o;e.state||(e.state=w(b())),e.redirect_uri||(e.redirect_uri=this.config.redirectURL);try{let i=await this.graphqlQuery({query:"mutation forgotPassword($data: ForgotPasswordInput!) {	forgot_password(params: $data) { message should_show_mobile_otp_screen } }",variables:{data:e}});return(o=i==null?void 0:i.errors)!=null&&o.length?this.errorResponse(i.errors):this.okResponse(i==null?void 0:i.data.forgot_password)}catch(i){return this.errorResponse([i])}});u(this,"getMetaData",async()=>{var e;try{let o=await this.graphqlQuery({query:"query { meta { version client_id is_google_login_enabled is_facebook_login_enabled is_github_login_enabled is_linkedin_login_enabled is_apple_login_enabled is_twitter_login_enabled is_microsoft_login_enabled is_twitch_login_enabled is_roblox_login_enabled is_email_verification_enabled is_basic_authentication_enabled is_magic_link_login_enabled is_sign_up_enabled is_strong_password_enabled is_multi_factor_auth_enabled is_mobile_basic_authentication_enabled is_phone_verification_enabled } }"});return(e=o==null?void 0:o.errors)!=null&&e.length?this.errorResponse(o.errors):this.okResponse(o.data.meta)}catch(o){return this.errorResponse([o])}});u(this,"getProfile",async e=>{var o;try{let i=await this.graphqlQuery({query:`query {	profile { ${D} } }`,headers:e});return(o=i==null?void 0:i.errors)!=null&&o.length?this.errorResponse(i.errors):this.okResponse(i.data.profile)}catch(i){return this.errorResponse([i])}});u(this,"getSession",async(e,o)=>{var i,t;try{let a=await this.graphqlQuery({query:`query getSession($params: SessionQueryInput){session(params: $params) { ${U} } }`,headers:e,variables:{params:o}});return(i=a==null?void 0:a.errors)!=null&&i.length?this.errorResponse(a.errors):this.okResponse((t=a.data)==null?void 0:t.session)}catch(a){return this.errorResponse(a)}});u(this,"getToken",async e=>{if(e.grant_type||(e.grant_type="authorization_code"),e.grant_type==="refresh_token"&&!e.refresh_token)return this.errorResponse([new Error("Invalid refresh_token")]);if(e.grant_type==="authorization_code"&&!this.codeVerifier)return this.errorResponse([new Error("Invalid code verifier")]);let o={client_id:this.config.clientID,code:e.code||"",code_verifier:this.codeVerifier||"",grant_type:e.grant_type||"",refresh_token:e.refresh_token||""};try{let i=await I()(`${this.config.authorizerURL}/oauth/token`,{method:"POST",body:JSON.stringify(o),headers:{...this.config.extraHeaders},credentials:"include"}),t=await i.json();return i.status>=400?this.errorResponse([new Error(t.error_description||t.error)]):this.okResponse(t)}catch(i){return this.errorResponse(i)}});u(this,"login",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation login($data: LoginInput!) { login(params: $data) { ${U}}}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.login)}catch(t){return this.errorResponse([new Error(t)])}});u(this,"logout",async e=>{var o,i;try{let t=await this.graphqlQuery({query:" mutation { logout { message } } ",headers:e});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.response)}catch(t){return this.errorResponse([t])}});u(this,"magicLinkLogin",async e=>{var o,i;try{e.state||(e.state=w(b())),e.redirect_uri||(e.redirect_uri=this.config.redirectURL);let t=await this.graphqlQuery({query:`
					mutation magicLinkLogin($data: MagicLinkLoginInput!) { magic_link_login(params: $data) { message }}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.magic_link_login)}catch(t){return this.errorResponse([t])}});u(this,"oauthLogin",async(e,o,i,t)=>{let a=t;if(a||(a=w(b())),!Object.values(S).includes(e))throw new Error(`only following oauth providers are supported: ${Object.values(e).toString()}`);if(!R())throw new Error("oauthLogin is only supported for browsers");o&&o.length&&(a+=`&roles=${o.join(",")}`),window.location.replace(`${this.config.authorizerURL}/oauth_login/${e}?redirect_uri=${i||this.config.redirectURL}&state=${a}`)});u(this,"resendOtp",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation resendOtp($data: ResendOTPRequest!) { resend_otp(params: $data) { message }}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.resend_otp)}catch(t){return this.errorResponse([t])}});u(this,"resetPassword",async e=>{var o,i;try{let t=await this.graphqlQuery({query:"mutation resetPassword($data: ResetPasswordInput!) {	reset_password(params: $data) { message } }",variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.reset_password)}catch(t){return this.errorResponse([t])}});u(this,"revokeToken",async e=>{if(!e.refresh_token&&!e.refresh_token.trim())return this.errorResponse([new Error("Invalid refresh_token")]);let o=await(await I()(`${this.config.authorizerURL}/oauth/revoke`,{method:"POST",headers:{...this.config.extraHeaders},body:JSON.stringify({refresh_token:e.refresh_token,client_id:this.config.clientID})})).json();return this.okResponse(o)});u(this,"signup",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation signup($data: SignUpInput!) { signup(params: $data) { ${U}}}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.signup)}catch(t){return this.errorResponse([t])}});u(this,"updateProfile",async(e,o)=>{var i,t;try{let a=await this.graphqlQuery({query:"mutation updateProfile($data: UpdateProfileInput!) {	update_profile(params: $data) { message } }",headers:o,variables:{data:e}});return(i=a==null?void 0:a.errors)!=null&&i.length?this.errorResponse(a.errors):this.okResponse((t=a.data)==null?void 0:t.update_profile)}catch(a){return this.errorResponse([a])}});u(this,"deactivateAccount",async e=>{var o,i;try{let t=await this.graphqlQuery({query:"mutation deactivateAccount { deactivate_account { message } }",headers:e});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.deactivate_account)}catch(t){return this.errorResponse([t])}});u(this,"validateJWTToken",async e=>{var o,i;try{let t=await this.graphqlQuery({query:"query validateJWTToken($params: ValidateJWTTokenInput!){validate_jwt_token(params: $params) { is_valid claims } }",variables:{params:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.validate_jwt_token)}catch(t){return this.errorResponse([t])}});u(this,"validateSession",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`query validateSession($params: ValidateSessionInput){validate_session(params: $params) { is_valid user { ${D} } } }`,variables:{params:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.validate_session)}catch(t){return this.errorResponse([t])}});u(this,"verifyEmail",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation verifyEmail($data: VerifyEmailInput!) { verify_email(params: $data) { ${U}}}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.verify_email)}catch(t){return this.errorResponse([t])}});u(this,"resendVerifyEmail",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation resendVerifyEmail($data: ResendVerifyEmailInput!) { resend_verify_email(params: $data) { message }}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.verify_email)}catch(t){return this.errorResponse([t])}});u(this,"verifyOtp",async e=>{var o,i;try{let t=await this.graphqlQuery({query:`
					mutation verifyOtp($data: VerifyOTPRequest!) { verify_otp(params: $data) { ${U}}}
				`,variables:{data:e}});return(o=t==null?void 0:t.errors)!=null&&o.length?this.errorResponse(t.errors):this.okResponse((i=t.data)==null?void 0:i.verify_otp)}catch(t){return this.errorResponse([t])}});u(this,"graphqlQuery",async e=>{var o;let i=await(await I()(`${this.config.authorizerURL}/graphql`,{method:"POST",body:JSON.stringify({query:e.query,variables:e.variables||{}}),headers:{...this.config.extraHeaders,...e.headers||{}},credentials:"include"})).json();return(o=i==null?void 0:i.errors)!=null&&o.length?{data:void 0,errors:i.errors}:{data:i.data,errors:[]}});u(this,"errorResponse",e=>({data:void 0,errors:e}));u(this,"okResponse",e=>({data:e,errors:[]}));if(!e)throw new Error("Configuration is required");if(this.config=e,!e.authorizerURL&&!e.authorizerURL.trim())throw new Error("Invalid authorizerURL");if(e.authorizerURL&&(this.config.authorizerURL=H(e.authorizerURL)),!e.redirectURL&&!e.redirectURL.trim())throw new Error("Invalid redirectURL");this.config.redirectURL=H(e.redirectURL),this.config.extraHeaders={...e.extraHeaders||{},"x-authorizer-url":this.config.authorizerURL,"x-authorizer-client-id":this.config.clientID||"","Content-Type":"application/json"},this.config.clientID=e.clientID.trim()}};g(V,"Authorizer");var ye=V;export{ye as T};
